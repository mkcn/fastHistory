#!/usr/bin/env python3
import re
import sys
import os

print("*" * 30)
print("running 'runFH'")
print("script run from:  %s " % os.path.dirname(os.path.abspath(__file__)))
print("working dir:  %s " % os.path.abspath(os.getcwd()))
print("home var:  %s " % os.environ['HOME'] )
print("User var:  %s " % os.environ['USER'] )
#print("$SNAP_USER_DATA:  %s " % os.environ['SNAP_USER_DATA'] )
#print("ENV_TEST var:  %s " % os.environ['ENV_TEST'] )

print("modify sys.path")
#TODO: find a better solution, at least with dynamic python
sys.path.insert(1, os.path.dirname(os.path.abspath(__file__)) + "/../lib/python3.8/site-packages/")
print("sys.path: %s " % sys.path)

##print("test read and write on ~/test1")
#os.system("touch ~/test1; rm ~/test1")
#print("test read ~/.bashrc")
#os.system("head -n 1 ~/.bashrc")
#print("test write ~/.bashrc")
#os.system("echo '#1' >> ~/.bashrc")

from fastHistory import f

if __name__ == '__main__':
    sys.argv[0] = re.sub(r'(-script\.pyw?|\.exe)?$', '', sys.argv[0])
    sys.exit(f())